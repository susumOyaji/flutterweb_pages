# Flutter Stock Ticker

これはFlutter Webで構築された、シンプルな株価・ポートフォリオ追跡アプリケーションです。Cloudflare Workers上で動作するAPIから金融データを取得し、リアルタイムで表示します。

![スクリーンショット](https-placeholder-for-screenshot.png)
*(ここにアプリのスクリーンショットを挿入できます)*

---

## 主な機能

- **主要な市場指数の表示**:
  - ダウ平均株価 (^DJI)
  - 日経平均株価 (998407.O)
  - ドル/円 (USDJPY=X)
  - これらのデータは定期的に自動更新されます。

- **ポートフォリオ管理**:
  - 保有している銘柄の**追加**、**編集**、**削除**が可能です。
  - 銘柄コード、数量、平均取得価格を登録できます。
  - 各銘柄の評価額と損益（P/L）が自動で計算・表示されます。

- **ポートフォリオ全体のサマリー**:
  - ポートフォリオ全体の現在の評価額合計
  - ポートフォリオ全体の損益合計
  - これらがカード形式で分かりやすく表示されます。

- **カスタマイズ可能なデータ更新**:
  - データ取得の自動更新間隔を **30秒 / 1分 / 5分 / 手動のみ** から選択できます。

- **生データの確認**:
  - APIから取得した生のJSONレスポンスをアプリ内で確認できるため、デバッグや開発に役立ちます。

---

## 使い方

### 1. 銘柄をポートフォリオに追加する

1.  画面右上の `+` アイコンをタップします。
2.  表示されたダイアログに、**銘柄コード**（例: `AAPL`）、**数量**、**取得価格**を入力します。
3.  `Add` ボタンを押すと、ポートフォリオに銘柄が追加されます。

### 2. 銘柄を編集・削除する

- **編集**: 各ポートフォリオカードの右上にある**編集**（鉛筆）アイコンをタップすると、数量と取得価格を変更できます。
- **削除**: 各ポートフォリオカードの右上にある**削除**（×）アイコンをタップすると、その銘柄をポートフォリオから削除できます。

### 3. データ更新間隔を変更する

1.  画面右上の**タイマー**アイコンをタップします。
2.  ポップアップメニューが表示されるので、希望の更新間隔（30秒、1分、5分、手動のみ）を選択します。
3.  選択した間隔でデータが自動更新されるようになります。「手動のみ」を選択した場合、更新は右上の**更新**（リフレッシュ）アイコンをタップしたときのみ行われます。

---

## 技術スタック

- **フロントエンド**: [Flutter Web](https://flutter.dev/multi-platform/web)
- **バックエンドAPI**: [Cloudflare Workers](https://workers.cloudflare.com/) (Rustで記述)
- **状態管理**: `StatefulWidget` (`setState`)
- **データ永続化**: `shared_preferences` (ポートフォリオデータと設定)
- **HTTP通信**: `http`
- **UIポップアップ**: `popover`

